<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Zettlab Research Hub · 用研规范 Demo</title>
  <meta name="description" content="Zettlab Research Hub — User Research Standards & Repository for NAS Desktop OS / Web Admin / Mobile."/>
  <style>
    /* =========================
       Zettlab Research Hub Demo
       Stringit Style Optimized
       ========================= */

    :root{
      --bg: #000000;
      --panel: rgba(255,255,255,.04);
      --panel2: rgba(255,255,255,.08);
      --stroke: rgba(255,255,255,.08);
      --stroke2: rgba(255,255,255,.15);
      --text: #ffffff;
      --muted: #a1a1a1;
      --muted2: #666666;
      --shadow: 0 24px 80px rgba(0,0,0,.5);
      --shadow2: 0 12px 32px rgba(0,0,0,.3);

      --brand: #7C3AED;
      --brand-glow: rgba(124, 58, 237, 0.3);
      --info: #0EA5E9;
      --success: #10B981;
      --warning: #F59E0B;
      --danger: #EF4444;

      --radius-xl: 32px;
      --radius-lg: 24px;
      --radius-md: 16px;
      --radius-sm: 12px;

      --space-1: 6px;
      --space-2: 10px;
      --space-3: 14px;
      --space-4: 18px;
      --space-5: 24px;
      --space-6: 32px;
      --space-7: 48px;
      --space-8: 64px;

      --max: 1200px;
      --font: "Inter", ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "SF Pro Display", "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
      --mono: "JetBrains Mono", ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;

      --focus: 0 0 0 3px rgba(124, 58, 237, .4);
      --ease: cubic-bezier(.16, 1, .3, 1);
      --dur: 0.4s;
    }

    [data-theme="light"]{
      --bg: #ffffff;
      --panel: rgba(0,0,0,.03);
      --panel2: rgba(0,0,0,.05);
      --stroke: rgba(0,0,0,.06);
      --stroke2: rgba(0,0,0,.12);
      --text: #000000;
      --muted: #525252;
      --muted2: #888888;
      --shadow: 0 24px 80px rgba(0,0,0,.08);
      --shadow2: 0 12px 32px rgba(0,0,0,.05);
      --brand-glow: rgba(124, 58, 237, 0.15);
    }

    *{ box-sizing:border-box; -webkit-font-smoothing: antialiased; }
    html,body{ height:100%; scroll-behavior: smooth; }
    body{
      margin:0;
      font-family: var(--font);
      background: var(--bg);
      color: var(--text);
      letter-spacing: -0.01em;
      overflow-x: hidden;
    }

    /* Background Glows */
    .glow-bg{
      position: fixed;
      top: 0; left: 0; width: 100%; height: 100%;
      z-index: -1;
      overflow: hidden;
      pointer-events: none;
    }
    .glow-1{
      position: absolute; top: -10%; left: -10%; width: 50%; height: 50%;
      background: radial-gradient(circle, rgba(124, 58, 237, 0.15) 0%, transparent 70%);
      filter: blur(80px);
    }
    .glow-2{
      position: absolute; bottom: -10%; right: -10%; width: 50%; height: 50%;
      background: radial-gradient(circle, rgba(14, 165, 233, 0.1) 0%, transparent 70%);
      filter: blur(80px);
    }

    a{ color: inherit; text-decoration:none; transition: color var(--dur) var(--ease); }
    button, input, select{ font-family: inherit; }
    ::selection{ background: var(--brand); color: #fff; }

    .wrap{ max-width: var(--max); margin: 0 auto; padding: 0 var(--space-6); }
    @media (max-width: 860px){ .wrap{ padding: 0 var(--space-4); } }

    /* Topbar */
    .topbar{
      position: sticky;
      top: 0;
      z-index: 100;
      backdrop-filter: blur(20px) saturate(180%);
      -webkit-backdrop-filter: blur(20px) saturate(180%);
      border-bottom: 1px solid var(--stroke);
      background: rgba(var(--bg-rgb, 0, 0, 0), 0.7);
      transition: background var(--dur) var(--ease);
    }
    [data-theme="light"] .topbar{ background: rgba(255, 255, 255, 0.7); }

    .topbar-inner{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap: var(--space-4);
      padding: 16px 0;
    }

    .brand{
      display:flex;
      align-items:center;
      gap: 14px;
    }
    .brand-mark{
      width: 36px; height:36px;
      border-radius: 10px;
      background: linear-gradient(135deg, #7C3AED, #2DD4BF);
      box-shadow: 0 8px 20px var(--brand-glow);
      position: relative;
    }
    .brand-mark::after{
      content: ''; position: absolute; inset: 1px; border-radius: 9px;
      background: linear-gradient(135deg, rgba(255,255,255,0.2), transparent);
    }
    .brand-title{ display:flex; flex-direction:column; line-height:1.1; }
    .brand-title strong{ font-size: 16px; font-weight: 700; letter-spacing: -0.02em; }
    .brand-title span{ font-size: 12px; color: var(--muted); margin-top: 2px; }

    .nav{ display:flex; align-items:center; gap: 8px; }
    .nav a{
      font-size: 14px; font-weight: 500; color: var(--muted);
      padding: 8px 14px; border-radius: 999px;
    }
    .nav a:hover{ color: var(--text); background: var(--panel); }
    .nav a.active{ color: var(--text); background: var(--panel2); }

    .tools{ display:flex; align-items:center; gap: 12px; }
    
    .search{
      position: relative; display:flex; align-items:center;
      background: var(--panel); border: 1px solid var(--stroke);
      border-radius: 999px; padding: 8px 16px; width: 240px;
      transition: width var(--dur) var(--ease), border-color var(--dur) var(--ease);
    }
    .search:focus-within{ width: 300px; border-color: var(--brand); }
    .search svg{ width: 16px; height: 16px; color: var(--muted); margin-right: 10px; }
    .search input{
      width: 100%; border: none; outline: none; background: transparent;
      color: var(--text); font-size: 14px;
    }

    .btn{
      border: 1px solid var(--stroke); background: var(--panel);
      color: var(--text); border-radius: 999px; padding: 10px 20px;
      font-size: 14px; font-weight: 600; cursor: pointer;
      transition: all var(--dur) var(--ease);
      display:inline-flex; align-items:center; gap: 8px;
      white-space: nowrap;
    }
    .btn:hover{ background: var(--panel2); border-color: var(--stroke2); transform: translateY(-2px); }
    .btn.primary{
      background: var(--text); color: var(--bg); border: none;
    }
    .btn.primary:hover{ opacity: 0.9; transform: translateY(-2px); box-shadow: 0 10px 25px rgba(255,255,255,0.15); }
    [data-theme="light"] .btn.primary:hover{ box-shadow: 0 10px 25px rgba(0,0,0,0.1); }

    /* Hero Section */
    .hero{ padding: 100px 0 60px; text-align: center; }
    .h-title{
      font-size: 72px; font-weight: 800; letter-spacing: -0.04em;
      line-height: 1; margin-bottom: 24px;
      background: linear-gradient(to bottom, #fff 60%, rgba(255,255,255,0.5));
      -webkit-background-clip: text; -webkit-text-fill-color: transparent;
    }
    [data-theme="light"] .h-title{ background: linear-gradient(to bottom, #000 60%, rgba(0,0,0,0.5)); -webkit-background-clip: text; }
    .h-sub{
      font-size: 18px; color: var(--muted); max-width: 700px; margin: 0 auto 40px;
      line-height: 1.6;
    }
    .h-actions{ display:flex; justify-content: center; gap: 16px; }

    /* Sections */
    section{ padding: 80px 0; scroll-margin-top: 80px; }
    .section-head{ margin-bottom: 40px; }
    .section-title{ font-size: 32px; font-weight: 700; letter-spacing: -0.03em; margin-bottom: 12px; }
    .section-desc{ font-size: 16px; color: var(--muted); max-width: 800px; line-height: 1.6; }

    /* Sticky Filterbar - THE FIX */
    .filterbar-container{
      position: sticky;
      top: 72px; /* Height of topbar */
      z-index: 90;
      background: var(--bg);
      margin: 0 -20px 32px;
      padding: 16px 20px;
      transition: background var(--dur) var(--ease);
    }
    .filterbar{
      display:flex; gap: 10px; flex-wrap: wrap; align-items:center;
    }
    .chip{
      padding: 8px 18px; border-radius: 999px; border: 1px solid var(--stroke);
      background: var(--panel); color: var(--muted); font-size: 14px; font-weight: 500;
      cursor: pointer; transition: all var(--dur) var(--ease);
    }
    .chip:hover{ border-color: var(--stroke2); color: var(--text); background: var(--panel2); }
    .chip.on{ background: var(--text); color: var(--bg); border-color: var(--text); }

    /* Grid & Cards */
    .grid{
      display:grid; grid-template-columns: repeat(auto-fill, minmax(340px, 1fr));
      gap: 24px;
    }
    .item{
      background: var(--panel); border: 1px solid var(--stroke);
      border-radius: var(--radius-lg); padding: 32px;
      transition: all var(--dur) var(--ease);
      display: flex; flex-direction: column; gap: 20px;
      position: relative; overflow: hidden;
    }
    .item:hover{
      transform: translateY(-8px); border-color: var(--stroke2);
      background: var(--panel2); box-shadow: var(--shadow);
    }
    .item::before{
      content: ''; position: absolute; top: 0; left: 0; width: 100%; height: 100%;
      background: radial-gradient(circle at top left, rgba(255,255,255,0.03), transparent 70%);
      pointer-events: none;
    }

    .item h3{ font-size: 20px; font-weight: 700; margin: 0 0 8px; letter-spacing: -0.02em; }
    .item .meta{ font-size: 14px; color: var(--muted); line-height: 1.5; }
    .item .tag{
      position: absolute; top: 32px; right: 32px;
      font-size: 11px; font-weight: 700; text-transform: uppercase;
      letter-spacing: 0.05em; color: var(--muted2);
      padding: 4px 10px; border-radius: 6px; border: 1px solid var(--stroke);
    }

    /* Bilingual Support - Hover Translation */
    .bi-text{ position: relative; cursor: help; }
    .bi-text::after{
      content: attr(data-en);
      position: absolute; left: 0; bottom: -1.2em;
      font-size: 0.75em; color: var(--brand);
      opacity: 0; transition: opacity 0.3s var(--ease);
      white-space: nowrap; pointer-events: none;
    }
    .bi-text:hover::after{ opacity: 1; }
    [data-lang="en"] .bi-text::after{ content: attr(data-zh); }

    /* Modal */
    .modal-backdrop{
      position: fixed; inset: 0; z-index: 200;
      background: rgba(0,0,0,0.8); backdrop-filter: blur(10px);
      display: none; align-items: center; justify-content: center;
      padding: 20px;
    }
    .modal-backdrop.show{ display: flex; animation: fadeIn 0.3s var(--ease); }
    .modal{
      background: var(--bg); border: 1px solid var(--stroke);
      border-radius: var(--radius-xl); width: 100%; max-width: 800px;
      max-height: 90vh; overflow-y: auto; position: relative;
      box-shadow: var(--shadow); padding: 48px;
    }
    @keyframes fadeIn { from{ opacity: 0; transform: scale(0.95); } to{ opacity: 1; transform: scale(1); } }

    /* Toast */
    #toast{
      position: fixed; bottom: 32px; left: 50%; transform: translateX(-50%) translateY(100px);
      background: var(--text); color: var(--bg); padding: 12px 24px;
      border-radius: 999px; font-size: 14px; font-weight: 600;
      z-index: 300; transition: transform 0.4s var(--ease);
      box-shadow: 0 10px 30px rgba(0,0,0,0.2);
    }
    #toast.show{ transform: translateX(-50%) translateY(0); }

    /* Responsive */
    @media (max-width: 768px){
      .h-title{ font-size: 48px; }
      .nav{ display: none; }
      .topbar-inner{ justify-content: center; }
      .tools{ width: 100%; justify-content: center; }
      .search{ width: 100%; }
    }
  </style>
</head>
<body data-theme="dark" data-lang="zh">
  <div class="glow-bg">
    <div class="glow-1"></div>
    <div class="glow-2"></div>
  </div>

  <header class="topbar">
    <div class="wrap topbar-inner">
      <div class="brand">
        <div class="brand-mark"></div>
        <div class="brand-title">
          <strong data-i18n="brand_title">Zettlab Research Hub</strong>
          <span data-i18n="brand_sub">Evidence-driven decisions for NAS</span>
        </div>
      </div>
      <nav class="nav">
        <a href="#overview" class="active" data-i18n="nav_overview">Overview</a>
        <a href="#sop" data-i18n="nav_sop">SOP</a>
        <a href="#methods" data-i18n="nav_methods">Methods</a>
        <a href="#templates" data-i18n="nav_templates">Templates</a>
      </nav>
      <div class="tools">
        <div class="search">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="11" cy="11" r="8"/><path d="m21 21-4.3-4.3"/></svg>
          <input type="text" id="q" placeholder="Search..." oninput="onSearch(this.value)"/>
        </div>
        <button class="btn" id="langBtn" onclick="toggleLang()">CN/EN</button>
        <button class="btn" id="themeBtn" onclick="toggleTheme()"><span>Dark</span></button>
      </div>
    </div>
  </header>

  <main class="wrap">
    <section id="overview" class="hero">
      <h1 class="h-title" data-i18n="hero_title">Zettlab Research Hub</h1>
      <p class="h-sub" data-i18n="hero_sub">Standardize user research methods, deliverables, and quality bars across NAS Desktop OS, Web Admin Console, and Mobile App.</p>
      <div class="h-actions">
        <button class="btn primary" data-i18n="cta_start">Start a Study</button>
        <button class="btn" data-i18n="cta_ut">Run a UT</button>
      </div>
    </section>

    <section id="sop">
      <div class="section-head">
        <h2 class="section-title" data-i18n="sop_title">Standard Research Flow (SOP)</h2>
        <p class="section-desc" data-i18n="sop_desc">A 7-step loop: goals → methods/recruit → run → synthesize → communicate → actions → validate & archive.</p>
      </div>
      <div class="grid" id="sopGrid"></div>
    </section>

    <section id="methods">
      <div class="section-head">
        <h2 class="section-title" data-i18n="methods_title">Method Toolkit</h2>
        <p class="section-desc" data-i18n="methods_desc">Pick methods by questions: interviews for motivations; UT for completion; card sorting/tree testing for IA.</p>
      </div>
      <div class="filterbar-container">
        <div class="filterbar" id="methodFilters"></div>
      </div>
      <div class="grid" id="methodGrid"></div>
    </section>

    <section id="templates">
      <div class="section-head">
        <h2 class="section-title" data-i18n="tpl_title">Templates</h2>
        <p class="section-desc" data-i18n="tpl_desc">Reusable templates for research plans, screeners, UT scripts, and insight cards.</p>
      </div>
      <div class="filterbar-container">
        <div class="filterbar" id="tplFilters"></div>
      </div>
      <div class="grid" id="tplGrid"></div>
    </section>
  </main>

  <div id="modalBackdrop" class="modal-backdrop" onclick="closeModal()">
    <div class="modal" id="modalContent" onclick="event.stopPropagation()"></div>
  </div>

  <div id="toast"></div>

  <script>
    const DATA = {
      sop: [
        { id: 1, zh: "明确目标与范围", en: "Define goals & scope", desc_zh: "锁定 1–3 个核心问题与假设", desc_en: "Lock 1–3 questions and hypotheses" },
        { id: 2, zh: "选择方法与招募", en: "Choose methods & recruit", desc_zh: "按问题选方法，按角色分层招募", desc_en: "Pick methods by questions; recruit" },
        { id: 3, zh: "执行研究与记录", en: "Run & capture data", desc_zh: "访谈/UT/问卷/日志记录行为", desc_en: "Interviews/UT/surveys/logs" },
        { id: 4, zh: "分析与综合", en: "Synthesize & analyze", desc_zh: "亲和图聚类→洞察卡片", desc_en: "Affinity mapping → insight cards" },
        { id: 5, zh: "可视化与沟通", en: "Visualize & communicate", desc_zh: "旅程图/机会地图对齐决策", desc_en: "Journey/opportunity maps" },
        { id: 6, zh: "转化为行动", en: "Translate into actions", desc_zh: "进入 Backlog；提炼 DS 更新", desc_en: "Backlog + DS updates" },
        { id: 7, zh: "上线验证与沉淀", en: "Validate & archive", desc_zh: "复测 + 指标前后对比；归档", desc_en: "Retest + metrics; archive" }
      ],
      methodCategories: [
        { id: "all", zh: "全部", en: "All" },
        { id: "qual", zh: "定性", en: "Qualitative" },
        { id: "quant", zh: "定量", en: "Quantitative" },
        { id: "ia", zh: "信息架构", en: "IA" }
      ],
      methods: [
        { id: "interview", cat: "qual", zh: "半结构化访谈", en: "Semi-structured interviews", tag: "Interview", when_zh: "理解动机、担忧、心智模型", when_en: "Understand motivations, concerns" },
        { id: "ut", cat: "qual", zh: "任务型可用性测试", en: "Task-based UT", tag: "UT", when_zh: "验证流程是否能完成、哪里卡住", when_en: "Validate completion, find blockers" },
        { id: "cardsort", cat: "ia", zh: "卡片分类", en: "Card sorting", tag: "Card sort", when_zh: "验证导航与命名是否符合直觉", when_en: "Validate how users group content" },
        { id: "survey", cat: "quant", zh: "问卷（规模化）", en: "Survey (at scale)", tag: "Survey", when_zh: "快速验证偏好/满意度", when_en: "Validate preferences at scale" }
      ],
      templates: [
        { id: "tpl_plan", cat: "plan", zh: "研究计划", en: "Research Plan", desc_zh: "目标/问题/方法/样本/风险", desc_en: "Goals/questions/methods/sample" },
        { id: "tpl_ut", cat: "ut", zh: "UT 脚本", en: "UT Script", desc_zh: "首次进入→创建存储→预警处理", desc_en: "First entry → storage → alerts" }
      ],
      i18n: {
        zh: {
          brand_title: "Zettlab Research Hub",
          brand_sub: "用证据驱动 NAS 体验决策",
          nav_overview: "概览",
          nav_sop: "流程",
          nav_methods: "方法库",
          nav_templates: "模板",
          hero_title: "Zettlab Research Hub",
          hero_sub: "统一 NAS 桌面端、管理端与 App 的研究标准。让结论可复现、可行动、可验证。",
          cta_start: "发起研究",
          cta_ut: "运行 UT",
          sop_title: "标准研究流程 (SOP)",
          sop_desc: "从目标定义到上线验证的 7 步闭环路径。",
          methods_title: "方法工具箱",
          methods_desc: "根据研究问题选择最合适的方法。",
          tpl_title: "实战模板",
          tpl_desc: "直接复用的计划、脚本与归档模板。",
          btn_details: "查看详情",
          btn_copy: "复制模板"
        },
        en: {
          brand_title: "Zettlab Research Hub",
          brand_sub: "Evidence-driven decisions for NAS",
          nav_overview: "Overview",
          nav_sop: "SOP",
          nav_methods: "Methods",
          nav_templates: "Templates",
          hero_title: "Zettlab Research Hub",
          hero_sub: "Standardize research across NAS platforms. Make insights repeatable, actionable, and validatable.",
          cta_start: "Start Study",
          cta_ut: "Run UT",
          sop_title: "Standard Flow (SOP)",
          sop_desc: "A 7-step loop from goals to validation.",
          methods_title: "Method Toolkit",
          methods_desc: "Pick the right method for your questions.",
          tpl_title: "Templates",
          tpl_desc: "Ready-to-use plans, scripts, and reports.",
          btn_details: "Details",
          btn_copy: "Copy"
        }
      }
    };

    let state = {
      lang: "zh",
      theme: "dark",
      q: "",
      methodCat: "all",
      tplCat: "all"
    };

    function toggleLang() {
      state.lang = state.lang === "zh" ? "en" : "zh";
      document.body.setAttribute("data-lang", state.lang);
      renderAll();
    }

    function toggleTheme() {
      state.theme = state.theme === "dark" ? "light" : "dark";
      document.body.setAttribute("data-theme", state.theme);
      document.getElementById("themeBtn").querySelector("span").textContent = state.theme === "dark" ? "Dark" : "Light";
    }

    function onSearch(val) {
      state.q = val.toLowerCase();
      renderMethods();
      renderTemplates();
    }

    function renderAll() {
      // Apply i18n
      const langData = DATA.i18n[state.lang];
      document.querySelectorAll("[data-i18n]").forEach(el => {
        const key = el.getAttribute("data-i18n");
        el.textContent = langData[key] || key;
      });

      renderSOP();
      renderFilters();
      renderMethods();
      renderTemplates();
    }

    function renderSOP() {
      const grid = document.getElementById("sopGrid");
      grid.innerHTML = DATA.sop.map(s => `
        <div class="item">
          <div class="tag">Step ${s.id}</div>
          <h3 class="bi-text" data-zh="${s.zh}" data-en="${s.en}">${state.lang === 'zh' ? s.zh : s.en}</h3>
          <p class="meta">${state.lang === 'zh' ? s.desc_zh : s.desc_en}</p>
        </div>
      `).join("");
    }

    function renderFilters() {
      const mFilters = document.getElementById("methodFilters");
      mFilters.innerHTML = DATA.methodCategories.map(c => `
        <div class="chip ${state.methodCat === c.id ? 'on' : ''}" onclick="setMethodCat('${c.id}')">
          ${state.lang === 'zh' ? c.zh : c.en}
        </div>
      `).join("");
    }

    function setMethodCat(id) {
      state.methodCat = id;
      renderFilters();
      renderMethods();
    }

    function renderMethods() {
      const grid = document.getElementById("methodGrid");
      const filtered = DATA.methods.filter(m => {
        const catMatch = state.methodCat === "all" || m.cat === state.methodCat;
        const searchMatch = !state.q || m.zh.toLowerCase().includes(state.q) || m.en.toLowerCase().includes(state.q);
        return catMatch && searchMatch;
      });

      grid.innerHTML = filtered.map(m => `
        <div class="item">
          <div class="tag">${m.tag}</div>
          <h3 class="bi-text" data-zh="${m.zh}" data-en="${m.en}">${state.lang === 'zh' ? m.zh : m.en}</h3>
          <p class="meta"><strong>${state.lang === 'zh' ? '适用' : 'Use when'}:</strong> ${state.lang === 'zh' ? m.when_zh : m.when_en}</p>
          <button class="btn" onclick="toast('${state.lang === 'zh' ? '详情开发中' : 'Details coming soon'}')">${DATA.i18n[state.lang].btn_details}</button>
        </div>
      `).join("");
    }

    function renderTemplates() {
      const grid = document.getElementById("tplGrid");
      const filtered = DATA.templates.filter(t => {
        return !state.q || t.zh.toLowerCase().includes(state.q) || t.en.toLowerCase().includes(state.q);
      });

      grid.innerHTML = filtered.map(t => `
        <div class="item">
          <div class="tag">${t.cat.toUpperCase()}</div>
          <h3 class="bi-text" data-zh="${t.zh}" data-en="${t.en}">${state.lang === 'zh' ? t.zh : t.en}</h3>
          <p class="meta">${state.lang === 'zh' ? t.desc_zh : t.desc_en}</p>
          <button class="btn primary" onclick="toast('${state.lang === 'zh' ? '已复制' : 'Copied'}')">${DATA.i18n[state.lang].btn_copy}</button>
        </div>
      `).join("");
    }

    function toast(msg) {
      const t = document.getElementById("toast");
      t.textContent = msg;
      t.classList.add("show");
      setTimeout(() => t.classList.remove("show"), 2000);
    }

    // Init
    renderAll();
  </script>
</body>
</html>
