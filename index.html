<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Zettlab Research Hub · 用研规范 Demo</title>
  <style>
    :root {
      /* Light Mode (Default) */
      --bg: #ffffff;
      --card-bg: rgba(0, 0, 0, 0.03);
      --card-border: rgba(0, 0, 0, 0.08);
      --text-primary: #111111;
      --text-secondary: rgba(0, 0, 0, 0.6);
      --accent: #7c3aed;
      --accent-glow: rgba(124, 58, 237, 0.1);
      --topbar-bg: rgba(255, 255, 255, 0.8);
      --modal-bg: #ffffff;
      --filter-bg: rgba(255, 255, 255, 0.8);
      
      --radius-xl: 32px;
      --radius-lg: 24px;
      --radius-md: 16px;
      --radius-sm: 12px;
      --font-main: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    }

    [data-theme="dark"] {
      --bg: #050505;
      --card-bg: rgba(255, 255, 255, 0.03);
      --card-border: rgba(255, 255, 255, 0.08);
      --text-primary: #ffffff;
      --text-secondary: rgba(255, 255, 255, 0.6);
      --accent: #7c3aed;
      --accent-glow: rgba(124, 58, 237, 0.3);
      --topbar-bg: rgba(5, 5, 5, 0.8);
      --modal-bg: #111111;
      --filter-bg: rgba(5, 5, 5, 0.8);
    }

    * { box-sizing: border-box; margin: 0; padding: 0; }
    body {
      font-family: var(--font-main);
      background-color: var(--bg);
      color: var(--text-primary);
      line-height: 1.6;
      overflow-x: hidden;
      transition: background-color 0.3s, color 0.3s;
    }

    /* Background Glows */
    .glow {
      position: fixed;
      width: 100vw;
      height: 100vh;
      top: 0;
      left: 0;
      z-index: -1;
      pointer-events: none;
      background-image: 
        radial-gradient(circle at 20% 20%, var(--accent-glow) 0%, transparent 40%),
        radial-gradient(circle at 80% 80%, rgba(59, 130, 246, 0.05) 0%, transparent 40%);
    }

    .container { max-width: 1200px; margin: 0 auto; padding: 0 24px; }

    /* Topbar */
    .topbar {
      position: sticky;
      top: 0;
      z-index: 100;
      background: var(--topbar-bg);
      backdrop-filter: blur(20px);
      border-bottom: 1px solid var(--card-border);
    }
    .topbar-inner {
      height: 72px;
      display: flex;
      align-items: center;
      justify-content: space-between;
    }
    .brand { display: flex; align-items: center; gap: 12px; text-decoration: none; color: var(--text-primary); }
    .brand-logo { width: 32px; height: 32px; background: linear-gradient(135deg, #7c3aed, #3b82f6); border-radius: 10px; }
    .brand-text strong { font-size: 18px; font-weight: 700; display: block; }
    .brand-text span { font-size: 12px; color: var(--text-secondary); }

    .nav { display: flex; gap: 8px; }
    .nav a {
      padding: 8px 16px;
      border-radius: 99px;
      text-decoration: none;
      color: var(--text-secondary);
      font-size: 14px;
      transition: all 0.2s;
    }
    .nav a:hover, .nav a.active { color: var(--text-primary); background: var(--card-bg); }

    .top-tools { display: flex; align-items: center; gap: 12px; }
    .search-box {
      background: var(--card-bg);
      border: 1px solid var(--card-border);
      border-radius: 99px;
      padding: 6px 16px;
      display: flex;
      align-items: center;
      gap: 8px;
    }
    .search-box input {
      background: transparent;
      border: none;
      color: var(--text-primary);
      outline: none;
      font-size: 14px;
      width: 180px;
    }
    .btn-tool {
      background: var(--card-bg);
      border: 1px solid var(--card-border);
      color: var(--text-primary);
      padding: 6px 12px;
      border-radius: 99px;
      cursor: pointer;
      font-size: 12px;
      font-weight: 600;
      transition: all 0.2s;
    }
    .btn-tool:hover { background: var(--card-border); }

    /* Hero */
    .hero { padding: 80px 0 60px; text-align: center; }
    .hero h1 { font-size: 56px; font-weight: 800; margin-bottom: 16px; letter-spacing: -0.02em; }
    .hero p { font-size: 18px; color: var(--text-secondary); max-width: 800px; margin: 0 auto 32px; }
    .hero-actions { display: flex; justify-content: center; gap: 16px; }
    .btn-primary {
      background: var(--text-primary);
      color: var(--bg);
      padding: 12px 24px;
      border-radius: 99px;
      font-weight: 600;
      text-decoration: none;
      transition: transform 0.2s;
      border: none;
      cursor: pointer;
    }
    .btn-primary:hover { transform: translateY(-2px); }
    .btn-secondary {
      background: var(--card-bg);
      border: 1px solid var(--card-border);
      color: var(--text-primary);
      padding: 12px 24px;
      border-radius: 99px;
      font-weight: 600;
      text-decoration: none;
      transition: all 0.2s;
      cursor: pointer;
    }
    .btn-secondary:hover { background: var(--card-border); }

    /* Value Cards */
    .value-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 24px; margin-top: 60px; }
    .value-card {
      background: var(--card-bg);
      border: 1px solid var(--card-border);
      padding: 32px;
      border-radius: var(--radius-xl);
      text-align: left;
      transition: border-color 0.3s;
    }
    .value-card:hover { border-color: var(--accent); }
    .value-card h3 { font-size: 20px; margin-bottom: 12px; }
    .value-card p { color: var(--text-secondary); font-size: 14px; }

    /* Section Headers */
    .section { padding: 80px 0; }
    .section-header { margin-bottom: 40px; }
    .section-header h2 { font-size: 32px; font-weight: 700; margin-bottom: 8px; }
    .section-header p { color: var(--text-secondary); font-size: 16px; }

    /* Filter Bar - Full Width Background */
    .filter-container {
      position: sticky;
      top: 72px;
      z-index: 90;
      background: var(--filter-bg);
      backdrop-filter: blur(10px);
      border-bottom: 1px solid var(--card-border);
      margin-bottom: 32px;
      width: 100%;
      display: flex;
      justify-content: center;
    }
    .filter-bar {
      width: 100%;
      max-width: 1200px;
      padding: 12px 24px;
      display: flex;
      gap: 8px;
      flex-wrap: wrap;
      justify-content: center;
      margin: 0;
    }
    .filter-chip {
      padding: 8px 20px;
      border-radius: 99px;
      background: var(--card-bg);
      border: 1px solid var(--card-border);
      color: var(--text-secondary);
      font-size: 14px;
      cursor: pointer;
      transition: all 0.2s;
      white-space: nowrap;
    }
    .filter-chip:hover { color: var(--text-primary); border-color: var(--text-secondary); }
    .filter-chip.active { background: var(--text-primary); color: var(--bg); border-color: var(--text-primary); }

    /* Grid Layouts */
    .grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(340px, 1fr)); gap: 24px; }
    .card {
      background: var(--card-bg);
      border: 1px solid var(--card-border);
      border-radius: var(--radius-lg);
      padding: 24px;
      transition: all 0.3s;
      display: flex;
      flex-direction: column;
      gap: 16px;
    }
    .card:hover { transform: translateY(-4px); border-color: var(--accent); box-shadow: 0 20px 40px rgba(0,0,0,0.1); }
    [data-theme="dark"] .card:hover { box-shadow: 0 20px 40px rgba(0,0,0,0.4); }
    .card-tag { font-size: 12px; font-weight: 600; color: var(--accent); text-transform: uppercase; letter-spacing: 0.05em; }
    .card h3 { font-size: 18px; font-weight: 600; }
    .card p { font-size: 14px; color: var(--text-secondary); flex-grow: 1; }
    .card-footer { display: flex; justify-content: space-between; align-items: center; margin-top: 8px; }
    .card-btn {
      background: transparent;
      border: 1px solid var(--card-border);
      color: var(--text-primary);
      padding: 8px 16px;
      border-radius: 99px;
      font-size: 13px;
      cursor: pointer;
      transition: all 0.2s;
    }
    .card-btn:hover { background: var(--text-primary); color: var(--bg); }

    /* SOP Flow */
    .sop-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 12px; margin-bottom: 24px; }
    .sop-step {
      background: var(--card-bg);
      border: 1px solid var(--card-border);
      padding: 20px;
      border-radius: var(--radius-md);
      cursor: pointer;
      transition: all 0.2s;
      text-align: center;
    }
    .sop-step:hover, .sop-step.active { border-color: var(--accent); background: var(--accent-glow); }
    .sop-step span { display: block; font-size: 12px; color: var(--accent); font-weight: 700; margin-bottom: 4px; }
    .sop-step strong { font-size: 14px; display: block; line-height: 1.2; }
    
    .sop-detail {
      background: var(--card-bg);
      border: 1px solid var(--card-border);
      border-radius: var(--radius-lg);
      padding: 32px;
      display: none;
    }
    .sop-detail.active { display: block; animation: fadeIn 0.3s ease; }
    .sop-detail-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 40px; }
    .sop-detail h4 { font-size: 16px; margin-bottom: 16px; color: var(--text-secondary); text-transform: uppercase; letter-spacing: 0.05em; }
    .sop-detail ul { list-style: none; }
    .sop-detail li { margin-bottom: 12px; font-size: 15px; display: flex; gap: 10px; }
    .sop-detail li::before { content: "→"; color: var(--accent); }

    /* Governance */
    .gov-flow { display: grid; grid-template-columns: repeat(4, 1fr); gap: 16px; margin-bottom: 32px; }
    .gov-box {
      background: var(--card-bg);
      border: 1px solid var(--card-border);
      padding: 24px;
      border-radius: var(--radius-lg);
      position: relative;
    }
    .gov-box::after {
      content: "→";
      position: absolute;
      right: -12px;
      top: 50%;
      transform: translateY(-50%);
      color: var(--card-border);
      font-size: 20px;
    }
    .gov-box:last-child::after { display: none; }
    .gov-box h4 { font-size: 16px; margin-bottom: 8px; }
    .gov-box p { font-size: 13px; color: var(--text-secondary); }

    .gov-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 24px; }
    .gov-card { background: var(--card-bg); border: 1px solid var(--card-border); padding: 24px; border-radius: var(--radius-lg); }
    .gov-card h3 { font-size: 18px; margin-bottom: 20px; border-left: 4px solid var(--accent); padding-left: 12px; }
    .gov-list { list-style: none; }
    .gov-list li { margin-bottom: 12px; font-size: 14px; color: var(--text-secondary); display: flex; gap: 10px; }
    .gov-list li::before { content: "•"; color: var(--accent); }

    /* Modal */
    .modal-overlay {
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.4);
      backdrop-filter: blur(10px);
      z-index: 200;
      display: none;
      align-items: center;
      justify-content: center;
      padding: 24px;
    }
    [data-theme="dark"] .modal-overlay { background: rgba(0,0,0,0.8); }
    .modal-overlay.active { display: flex; }
    .modal {
      background: var(--modal-bg);
      border: 1px solid var(--card-border);
      width: 100%;
      max-width: 800px;
      max-height: 90vh;
      border-radius: var(--radius-xl);
      overflow: hidden;
      display: flex;
      flex-direction: column;
      box-shadow: 0 30px 60px rgba(0,0,0,0.1);
    }
    [data-theme="dark"] .modal { box-shadow: 0 30px 60px rgba(0,0,0,0.5); }
    .modal-header { padding: 24px; border-bottom: 1px solid var(--card-border); display: flex; justify-content: space-between; align-items: center; }
    .modal-body { padding: 32px; overflow-y: auto; }
    .modal-close { background: transparent; border: none; color: var(--text-secondary); cursor: pointer; font-size: 24px; }

    /* Toast */
    .toast {
      position: fixed;
      bottom: 32px;
      left: 50%;
      transform: translateX(-50%) translateY(100px);
      background: var(--text-primary);
      color: var(--bg);
      padding: 12px 24px;
      border-radius: 99px;
      font-weight: 600;
      z-index: 300;
      transition: transform 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    }
    .toast.active { transform: translateX(-50%) translateY(0); }

    @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

    @media (max-width: 768px) {
      .hero h1 { font-size: 36px; }
      .value-grid, .gov-flow, .gov-grid, .sop-detail-grid { grid-template-columns: 1fr; }
      .topbar-inner { height: auto; padding: 16px 0; flex-direction: column; gap: 16px; }
      .nav { overflow-x: auto; width: 100%; padding-bottom: 8px; }
    }
  </style>
</head>
<body>
  <div class="glow"></div>

  <header class="topbar">
    <div class="container topbar-inner">
      <a href="#" class="brand">
        <div class="brand-logo"></div>
        <div class="brand-text">
          <strong>Zettlab Research Hub</strong>
          <span>用证据驱动 NAS 体验决策</span>
        </div>
      </a>
      <nav class="nav">
        <a href="#home" class="active">首页</a>
        <a href="#sop">SOP 流程</a>
        <a href="#methods">方法库</a>
        <a href="#templates">模板</a>
        <a href="#governance">治理</a>
      </nav>
      <div class="top-tools">
        <div class="search-box">
          <input type="text" id="searchInput" placeholder="搜索方法 / 模板 / 研究案例...">
        </div>
        <button class="btn-tool" id="langToggle">CN/EN</button>
        <button class="btn-tool" id="themeToggle">Dark</button>
      </div>
    </div>
  </header>

  <main>
    <!-- Hero Section -->
    <section class="hero" id="home">
      <div class="container">
        <h1 id="heroTitle">用研规范与知识库</h1>
        <p id="heroDesc">为 NAS 桌面端、Web 管理端及移动端打造的标准化研究体系，确保研究结果可复现、可行动、可验证。</p>
        <div class="hero-actions">
          <button class="btn-primary" onclick="showTemplate('plan')">发起研究</button>
          <button class="btn-secondary" onclick="showTemplate('ut')">运行 UT</button>
          <button class="btn-secondary" onclick="showTemplate('archive')">归档规范</button>
        </div>

        <div class="value-grid">
          <div class="value-card">
            <h3 id="val1Title">可复现 / Reproducible</h3>
            <p id="val1Desc">标准化的 SOP 流程与方法工具箱，确保不同研究员在面对相似问题时能产出一致的高质量结果。</p>
          </div>
          <div class="value-card">
            <h3 id="val2Title">可行动 / Actionable</h3>
            <p id="val2Desc">研究结论直接挂钩 Backlog 与 Design System，确保每一个洞察都能转化为具体的产品改进项。</p>
          </div>
          <div class="value-card">
            <h3 id="val3Title">可验证 / Verifiable</h3>
            <p id="val3Desc">建立核心体验指标（Suggested Metrics），通过持续的可用性测试验证设计方案的有效性。</p>
          </div>
        </div>
      </div>
    </section>

    <!-- Research Status Section -->
    <section class="section" id="status">
      <div class="container">
        <div class="section-header">
          <h2 id="statusTitle">研究动态 / Research Status</h2>
          <p id="statusDesc">当前正在进行的重点研究项目及最新归档案例。</p>
        </div>
        <div class="grid" id="statusGrid"></div>
      </div>
    </section>

    <!-- SOP Section -->
    <section class="section" id="sop">
      <div class="container">
        <div class="section-header">
          <h2 id="sopTitle">标准研究流程 / Standard Research Flow (SOP)</h2>
          <p id="sopDesc">从需求对齐到 DS 更新的 7 步标准化作业程序。</p>
        </div>
        <div class="sop-grid" id="sopSteps"></div>
        <div class="sop-detail" id="sopDetail"></div>
      </div>
    </section>

    <!-- Methods Section -->
    <section class="section" id="methods">
      <div class="container">
        <div class="section-header">
          <h2 id="methodsTitle">方法工具箱 / Method Toolkit</h2>
          <p id="methodsDesc">根据研究问题选择最合适的方法。</p>
        </div>
      </div>
      <div class="filter-container">
        <div class="filter-bar" id="methodFilters"></div>
      </div>
      <div class="container">
        <div class="grid" id="methodGrid"></div>
      </div>
    </section>

    <!-- Templates Section -->
    <section class="section" id="templates">
      <div class="container">
        <div class="section-header">
          <h2 id="templatesTitle">实战模板 / Practical Templates</h2>
          <p id="templatesDesc">直接复用的计划、脚本与归档模板。</p>
        </div>
      </div>
      <div class="filter-container">
        <div class="filter-bar" id="templateFilters"></div>
      </div>
      <div class="container">
        <div class="grid" id="templateGrid"></div>
      </div>
    </section>

    <!-- Governance Section -->
    <section class="section" id="governance">
      <div class="container">
        <div class="section-header">
          <h2 id="govTitle">研究治理 / Research Governance</h2>
          <p id="govDesc">确保研究资产的长期价值与跨团队协作效率。</p>
        </div>
        
        <div class="gov-flow">
          <div class="gov-box">
            <h4>Research</h4>
            <p>发现问题与机会点</p>
          </div>
          <div class="gov-box">
            <h4>Backlog</h4>
            <p>转化为开发需求</p>
          </div>
          <div class="gov-box">
            <h4>Design System</h4>
            <p>沉淀通用设计模式</p>
          </div>
          <div class="gov-box">
            <h4>Product</h4>
            <p>上线并验证效果</p>
          </div>
        </div>

        <div class="gov-grid">
          <div class="gov-card">
            <h3 id="gov1Title">高风险任务清单 / High-risk Tasks</h3>
            <ul class="gov-list" id="riskList"></ul>
          </div>
          <div class="gov-card">
            <h3 id="gov2Title">决策就绪标准 / Decision-ready Criteria</h3>
            <ul class="gov-list" id="decisionList"></ul>
          </div>
        </div>
      </div>
    </section>
  </main>

  <!-- Modal -->
  <div class="modal-overlay" id="modalOverlay">
    <div class="modal">
      <div class="modal-header">
        <h3 id="modalTitle"></h3>
        <button class="modal-close" onclick="closeModal()">&times;</button>
      </div>
      <div class="modal-body" id="modalBody"></div>
    </div>
  </div>

  <!-- Toast -->
  <div class="toast" id="toast">已复制到剪贴板</div>

  <script>
    const DATA = {
      status: [
        { id: 1, tag: 'Setup', title: '首次配置流程优化', titleEn: 'OOBE Flow Optimization', desc: '针对 NAS 首次初始化过程中的网络配置与账号绑定环节进行专项研究。', descEn: 'Special research on network config and account binding during NAS initialization.', summary: '用户在网络环境复杂时容易卡死，需要增加自动诊断。', summaryEn: 'Users get stuck in complex network environments; auto-diagnosis needed.', insights: '1. 术语过于专业；2. 进度反馈不明确。', insightsEn: '1. Jargon too technical; 2. Unclear progress feedback.', actions: '更新 OOBE 设计规范 v2.1', actionsEn: 'Update OOBE design spec v2.1', status: 'Done' },
        { id: 2, tag: 'Permission', title: '成员与权限管理研究', titleEn: 'Member & Permission Study', desc: '探索家庭场景下，管理员对普通成员文件夹访问权限的分配逻辑。', descEn: 'Explore permission allocation logic for family members in NAS.', summary: '现有的“读/写”维度不足以覆盖家庭隐私需求。', summaryEn: 'Existing Read/Write dimensions are insufficient for family privacy.', insights: '用户需要“仅查看但不允许下载”的细分权限。', insightsEn: 'Users need "View only, no download" granular permission.', actions: '新增“隐私分享”模式原型', actionsEn: 'New "Privacy Sharing" mode prototype', status: 'In Progress' },
        { id: 3, tag: 'Backup', title: '手机相册备份授权文案测试', titleEn: 'Mobile Photo Backup Copy Test', desc: '测试不同文案对用户开启“自动备份”意愿的影响。', descEn: 'Test impact of different copy on user willingness to enable auto-backup.', summary: '强调“隐私安全”比强调“空间释放”转化率高 15%。', summaryEn: 'Emphasizing "Privacy" has 15% higher conversion than "Space".', insights: '用户对“云端删除是否同步本地”存在极大顾虑。', insightsEn: 'Users worry about whether cloud deletion syncs to local.', actions: '全量上线“安全备份”版文案', actionsEn: 'Roll out "Secure Backup" copy', status: 'Done' }
      ],
      steps: [
        { id: 1, title: '需求对齐', titleEn: 'Alignment', what: '明确研究目标、核心问题、利益相关者及时间线。', whatEn: 'Define goals, core questions, stakeholders, and timeline.', output: '研究简报 (Research Brief)', outputEn: 'Research Brief' },
        { id: 2, title: '方案设计', titleEn: 'Design', what: '选择研究方法，编写招募标准，设计访谈大纲或测试脚本。', whatEn: 'Select methods, write recruitment criteria, design scripts.', output: '研究计划 (Research Plan)', outputEn: 'Research Plan' },
        { id: 3, title: '用户招募', titleEn: 'Recruitment', what: '根据标准筛选用户，完成邀约与排期。', whatEn: 'Filter users based on criteria, complete scheduling.', output: '用户名单 (User List)', outputEn: 'User List' },
        { id: 4, title: '执行研究', titleEn: 'Execution', what: '进行访谈、可用性测试或问卷发放，收集原始数据。', whatEn: 'Conduct interviews, UT, or surveys; collect raw data.', output: '原始记录 (Raw Notes/Recordings)', outputEn: 'Raw Notes/Recordings' },
        { id: 5, title: '分析洞察', titleEn: 'Analysis', what: '整理证据，提取发现点，转化为可行动的洞察。', whatEn: 'Organize evidence, extract findings, convert to insights.', output: '洞察卡片 (Insight Cards)', outputEn: 'Insight Cards' },
        { id: 6, title: '汇报决策', titleEn: 'Reporting', what: '同步研究结论，推动产品决策与 Backlog 优先级调整。', whatEn: 'Sync conclusions, drive decisions and backlog priority.', output: '研究报告 (Research Report)', outputEn: 'Research Report' },
        { id: 7, title: 'DS 更新', titleEn: 'DS Update', what: '将通用设计模式沉淀至 Design System，确保体验一致性。', whatEn: 'Archive patterns into Design System for consistency.', output: 'DS 组件/规范更新 (DS Updates)', outputEn: 'DS Updates' }
      ],
      methods: [
        { id: 1, tag: 'Qualitative', title: '半结构化访谈', titleEn: 'Semi-structured Interview', desc: '深入了解用户动机、担忧及心智模型。', descEn: 'Deep dive into user motivations, concerns, and mental models.', category: '定性' },
        { id: 2, tag: 'Qualitative', title: '任务型可用性测试', titleEn: 'Task-based UT', desc: '验证流程是否顺畅，发现操作障碍点。', descEn: 'Verify flow smoothness and identify operational barriers.', category: '定性' },
        { id: 3, tag: 'Qualitative', title: '情境走查', titleEn: 'Contextual Inquiry', desc: '在真实家庭/工作环境中观察实际行为。', descEn: 'Observe actual behavior in real home/work environments.', category: '定性' },
        { id: 4, tag: 'Quantitative', title: '问卷调查', titleEn: 'Survey', desc: '快速验证偏好，获取规模化数据支持。', descEn: 'Quickly verify preferences and get large-scale data support.', category: '定量' },
        { id: 5, tag: 'IA', title: '卡片分类', titleEn: 'Card Sorting', desc: '验证导航与命名是否符合用户分类方式。', descEn: 'Verify if navigation and naming match user mental models.', category: '信息架构' },
        { id: 6, tag: 'IA', title: '树状测试', titleEn: 'Tree Testing', desc: '验证路径直觉性，不依赖视觉设计。', descEn: 'Verify path intuition without relying on visual design.', category: '信息架构' },
        { id: 7, tag: 'Behavior', title: '日记研究', titleEn: 'Diary Study', desc: '记录用户在长周期内的真实使用习惯。', descEn: 'Record real usage habits over a long period.', category: '长期行为' },
        { id: 8, tag: 'Behavior', title: '行为日志分析', titleEn: 'Log Analysis', desc: '通过埋点数据还原用户真实转化路径。', descEn: 'Restore real conversion paths via tracking data.', category: '数据分析' }
      ],
      templates: [
        { id: 1, tag: 'Plan', title: '通用研究计划模板', titleEn: 'General Research Plan', desc: '包含背景、目标、方法、排期等标准模块。', descEn: 'Standard modules: background, goals, methods, timeline.', content: '【研究计划模板】\n1. 研究背景：为什么要做这个研究？\n2. 研究目标：我们要解决什么问题？\n3. 研究方法：采用什么手段？\n4. 用户画像：招募什么样的用户？\n5. 时间排期：各阶段节点。', contentEn: '[Research Plan Template]\n1. Background: Why this study?\n2. Goals: What questions to solve?\n3. Methods: How to conduct?\n4. User Profile: Who to recruit?\n5. Timeline: Key milestones.' },
        { id: 2, tag: 'Script', title: '可用性测试脚本', titleEn: 'UT Script Template', desc: '包含开场白、任务设置、追问技巧。', descEn: 'Includes intro, task settings, and probing techniques.', content: '【UT 脚本模板】\n1. 开场白：告知目的，缓解紧张。\n2. 预热访谈：了解背景。\n3. 任务环节：设置 3-5 个核心任务。\n4. 满意度评价：ASQ/SUS 问卷。\n5. 结束语：感谢并赠送礼品。', contentEn: '[UT Script Template]\n1. Intro: Purpose and comfort.\n2. Warm-up: Background info.\n3. Tasks: 3-5 core tasks.\n4. Satisfaction: ASQ/SUS survey.\n5. Closing: Thanks and incentive.' },
        { id: 3, tag: 'Screener', title: '用户招募筛选表', titleEn: 'User Screener', desc: '针对 NAS 用户的分层招募标准。', descEn: 'Granular recruitment criteria for NAS users.', content: '【招募筛选表】\n- 新手用户：购买 1 个月内，仅使用基础备份。\n- 熟手用户：购买 6 个月以上，使用 Docker/虚拟机。\n- 管理员：家庭网络环境搭建者。', contentEn: '[User Screener]\n- Novice: <1 month, basic backup only.\n- Advanced: >6 months, uses Docker/VM.\n- Admin: Family network builder.' },
        { id: 4, tag: 'Insight', title: '标准洞察卡片', titleEn: 'Standard Insight Card', desc: '证据 → 含义 → 机会点的专业结构。', descEn: 'Professional structure: Evidence → Meaning → Opportunity.', content: '【洞察卡片模板】\n- 现象/证据：用户在 XX 页面停留了 30 秒。\n- 含义/痛点：用户找不到“确认”按钮。\n- 机会点/建议：将按钮改为悬浮固定位置。', contentEn: '[Insight Card Template]\n- Evidence: User stayed on XX page for 30s.\n- Meaning: User can\'t find "Confirm" button.\n- Opportunity: Fix button to floating position.' },
        { id: 5, tag: 'Archive', title: '研究归档清单', titleEn: 'Archive Checklist', desc: '确保研究资产可追溯的完整清单。', descEn: 'Complete checklist for traceable research assets.', content: '【归档清单】\n1. 研究计划 (PDF)\n2. 访谈大纲/脚本 (Doc)\n3. 原始录音/录像 (Link)\n4. 洞察卡片 (Board)\n5. 最终报告 (PPT/PDF)', contentEn: '[Archive Checklist]\n1. Plan (PDF)\n2. Script (Doc)\n3. Recordings (Link)\n4. Insight Cards (Board)\n5. Final Report (PPT/PDF)' }
      ],
      risks: [
        { title: '数据迁移失败', titleEn: 'Data Migration Failure', desc: '从旧 NAS 或硬盘搬家时的报错处理。', descEn: 'Error handling during migration from old NAS/HDD.' },
        { title: '外网访问受阻', titleEn: 'Remote Access Blocked', desc: '内网穿透失败导致无法远程查看文件。', descEn: 'Remote access failure due to DDNS/Relay issues.' },
        { title: '共享链接泄露', titleEn: 'Shared Link Leakage', desc: '敏感文件通过公开链接被非授权访问。', descEn: 'Unauthorized access to sensitive files via public links.' }
      ],
      decisions: [
        { title: 'Clear output = Decision-ready', desc: '研究结论必须能直接回答“做还是不做”。', descEn: 'Conclusions must directly answer "Go or No-go".' },
        { title: 'Trust & Risk', desc: '衡量用户对私有云存储的安全信任感。', descEn: 'Measure user trust in private cloud storage security.' },
        { title: 'Actionable Insights', desc: '每一个洞察必须对应一个 Backlog 任务。', descEn: 'Every insight must map to a Backlog task.' }
      ]
    };

    const I18N = {
      zh: {
        heroTitle: '用研规范与知识库',
        heroDesc: '为 NAS 桌面端、Web 管理端及移动端打造的标准化研究体系，确保研究结果可复现、可行动、可验证。',
        val1Title: '可复现 / Reproducible',
        val1Desc: '标准化的 SOP 流程与方法工具箱，确保不同研究员在面对相似问题时能产出一致的高质量结果。',
        val2Title: '可行动 / Actionable',
        val2Desc: '研究结论直接挂钩 Backlog 与 Design System，确保每一个洞察都能转化为具体的产品改进项。',
        val3Title: '可验证 / Verifiable',
        val3Desc: '建立核心体验指标（Suggested Metrics），通过持续的可用性测试验证设计方案的有效性。',
        statusTitle: '研究动态 / Research Status',
        statusDesc: '当前正在进行的重点研究项目及最新归档案例。',
        sopTitle: '标准研究流程 / Standard Research Flow (SOP)',
        sopDesc: '从需求对齐到 DS 更新的 7 步标准化作业程序。',
        methodsTitle: '方法工具箱 / Method Toolkit',
        methodsDesc: '根据研究问题选择最合适的方法。',
        templatesTitle: '实战模板 / Practical Templates',
        templatesDesc: '直接复用的计划、脚本与归档模板。',
        govTitle: '研究治理 / Research Governance',
        govDesc: '确保研究资产的长期价值与跨团队协作效率。',
        gov1Title: '高风险任务清单 / High-risk Tasks',
        gov2Title: '决策就绪标准 / Decision-ready Criteria',
        searchPlaceholder: '搜索方法 / 模板 / 研究案例...',
        btnCopy: '复制内容',
        btnDetail: '查看详情',
        btnPreview: '预览模板',
        toastCopy: '已复制到剪贴板',
        whatTitle: '本步要做什么',
        outputTitle: '本步产出',
        themeDark: 'Dark',
        themeLight: 'Light'
      },
      en: {
        heroTitle: 'Research Ops & Knowledge Base',
        heroDesc: 'Standardized research system for NAS Desktop, Web, and Mobile, ensuring results are reproducible, actionable, and verifiable.',
        val1Title: 'Reproducible',
        val1Desc: 'Standardized SOPs and toolkits ensure consistent high-quality results across different researchers.',
        val2Title: 'Actionable',
        val2Desc: 'Insights link directly to Backlog and Design System, ensuring every finding turns into product improvements.',
        val3Title: 'Verifiable',
        val3Desc: 'Establish core metrics and verify design effectiveness through continuous usability testing.',
        statusTitle: 'Research Status',
        statusDesc: 'Ongoing key research projects and latest archived cases.',
        sopTitle: 'Standard Research Flow (SOP)',
        sopDesc: '7-step standardized procedure from alignment to DS update.',
        methodsTitle: 'Method Toolkit',
        methodsDesc: 'Select the most appropriate method based on research questions.',
        templatesTitle: 'Practical Templates',
        templatesDesc: 'Ready-to-use templates for plans, scripts, and archives.',
        govTitle: 'Research Governance',
        govDesc: 'Ensuring long-term value of research assets and cross-team efficiency.',
        gov1Title: 'High-risk Tasks',
        gov2Title: 'Decision-ready Criteria',
        searchPlaceholder: 'Search methods / templates / cases...',
        btnCopy: 'Copy Content',
        btnDetail: 'View Details',
        btnPreview: 'Preview',
        toastCopy: 'Copied to clipboard',
        whatTitle: 'What to do',
        outputTitle: 'Outputs',
        themeDark: 'Dark',
        themeLight: 'Light'
      }
    };

    let currentLang = 'zh';
    let currentTheme = 'light';

    function toggleLang() {
      currentLang = currentLang === 'zh' ? 'en' : 'zh';
      updateUI();
    }

    function toggleTheme() {
      currentTheme = currentTheme === 'light' ? 'dark' : 'light';
      document.documentElement.setAttribute('data-theme', currentTheme);
      document.getElementById('themeToggle').textContent = currentTheme === 'light' ? 'Dark' : 'Light';
    }

    function updateUI() {
      const lang = I18N[currentLang];
      for (let id in lang) {
        const el = document.getElementById(id);
        if (el) {
          if (el.tagName === 'INPUT') el.placeholder = lang[id];
          else el.textContent = lang[id];
        }
      }
      renderAll();
    }

    function renderAll() {
      renderStatus();
      renderSOP();
      renderMethods();
      renderTemplates();
      renderGovernance();
    }

    function renderStatus() {
      const grid = document.getElementById('statusGrid');
      const query = document.getElementById('searchInput').value.toLowerCase();
      grid.innerHTML = DATA.status
        .filter(s => s.title.toLowerCase().includes(query) || s.titleEn.toLowerCase().includes(query))
        .map(s => `
          <div class="card">
            <div class="card-tag">${s.tag}</div>
            <h3>${currentLang === 'zh' ? s.title : s.titleEn}</h3>
            <p>${currentLang === 'zh' ? s.desc : s.descEn}</p>
            <div class="card-footer">
              <span class="card-tag" style="color: ${s.status === 'Done' ? '#10b981' : '#f59e0b'}">${s.status}</span>
              <button class="card-btn" onclick="showStatusDetail(${s.id})">${I18N[currentLang].btnDetail}</button>
            </div>
          </div>
        `).join('');
    }

    function renderSOP() {
      const steps = document.getElementById('sopSteps');
      steps.innerHTML = DATA.steps.map((s, i) => `
        <div class="sop-step ${i === 0 ? 'active' : ''}" onclick="activateSOP(${i})">
          <span>Step ${s.id}</span>
          <strong>${currentLang === 'zh' ? s.title : s.titleEn}</strong>
        </div>
      `).join('');
      activateSOP(0);
    }

    function activateSOP(index) {
      document.querySelectorAll('.sop-step').forEach((el, i) => el.classList.toggle('active', i === index));
      const s = DATA.steps[index];
      const detail = document.getElementById('sopDetail');
      detail.classList.add('active');
      detail.innerHTML = `
        <div class="sop-detail-grid">
          <div>
            <h4>${I18N[currentLang].whatTitle}</h4>
            <p style="font-size: 18px; font-weight: 500;">${currentLang === 'zh' ? s.what : s.whatEn}</p>
          </div>
          <div>
            <h4>${I18N[currentLang].outputTitle}</h4>
            <div class="card-tag" style="font-size: 16px; background: var(--accent-glow); padding: 8px 16px; border-radius: 8px; display: inline-block;">
              ${currentLang === 'zh' ? s.output : s.outputEn}
            </div>
          </div>
        </div>
      `;
    }

    function renderMethods() {
      const filters = document.getElementById('methodFilters');
      const categories = ['全部', '定性', '定量', '信息架构', '长期行为', '数据分析'];
      filters.innerHTML = categories.map(c => `
        <div class="filter-chip ${c === '全部' ? 'active' : ''}" onclick="filterMethods('${c}', this)">${c}</div>
      `).join('');
      filterMethods('全部');
    }

    function filterMethods(cat, el) {
      if (el) {
        el.parentElement.querySelectorAll('.filter-chip').forEach(c => c.classList.remove('active'));
        el.classList.add('active');
      }
      const grid = document.getElementById('methodGrid');
      grid.innerHTML = DATA.methods
        .filter(m => cat === '全部' || m.category === cat)
        .map(m => `
          <div class="card">
            <div class="card-tag">${m.tag}</div>
            <h3>${currentLang === 'zh' ? m.title : m.titleEn}</h3>
            <p>${currentLang === 'zh' ? m.desc : m.descEn}</p>
            <button class="card-btn" onclick="showMethodDetail(${m.id})">${I18N[currentLang].btnDetail}</button>
          </div>
        `).join('');
    }

    function renderTemplates() {
      const filters = document.getElementById('templateFilters');
      const tags = ['全部', 'Plan', 'Script', 'Screener', 'Insight', 'Archive'];
      filters.innerHTML = tags.map(t => `
        <div class="filter-chip ${t === '全部' ? 'active' : ''}" onclick="filterTemplates('${t}', this)">${t}</div>
      `).join('');
      filterTemplates('全部');
    }

    function filterTemplates(tag, el) {
      if (el) {
        el.parentElement.querySelectorAll('.filter-chip').forEach(c => c.classList.remove('active'));
        el.classList.add('active');
      }
      const grid = document.getElementById('templateGrid');
      grid.innerHTML = DATA.templates
        .filter(t => tag === '全部' || t.tag === tag)
        .map(t => `
          <div class="card">
            <div class="card-tag">${t.tag}</div>
            <h3>${currentLang === 'zh' ? t.title : t.titleEn}</h3>
            <p>${currentLang === 'zh' ? t.desc : t.descEn}</p>
            <button class="card-btn" onclick="showTemplatePreview(${t.id})">${I18N[currentLang].btnPreview}</button>
          </div>
        `).join('');
    }

    function renderGovernance() {
      document.getElementById('riskList').innerHTML = DATA.risks.map(r => `
        <li><strong>${currentLang === 'zh' ? r.title : r.titleEn}</strong>: ${currentLang === 'zh' ? r.desc : r.descEn}</li>
      `).join('');
      document.getElementById('decisionList').innerHTML = DATA.decisions.map(d => `
        <li><strong>${currentLang === 'zh' ? d.title : d.titleEn}</strong>: ${currentLang === 'zh' ? d.desc : d.descEn}</li>
      `).join('');
    }

    function showStatusDetail(id) {
      const s = DATA.status.find(x => x.id === id);
      showModal(currentLang === 'zh' ? s.title : s.titleEn, `
        <div style="display: grid; gap: 24px;">
          <div><h4 style="color: var(--accent); margin-bottom: 8px;">摘要 / Summary</h4><p>${currentLang === 'zh' ? s.summary : s.summaryEn}</p></div>
          <div><h4 style="color: var(--accent); margin-bottom: 8px;">核心洞察 / Insights</h4><p>${currentLang === 'zh' ? s.insights : s.insightsEn}</p></div>
          <div><h4 style="color: var(--accent); margin-bottom: 8px;">行动项 / Actions</h4><p>${currentLang === 'zh' ? s.actions : s.actionsEn}</p></div>
        </div>
      `);
    }

    function showMethodDetail(id) {
      const m = DATA.methods.find(x => x.id === id);
      showModal(currentLang === 'zh' ? m.title : m.titleEn, `
        <div style="display: grid; gap: 24px;">
          <div><h4 style="color: var(--accent); margin-bottom: 8px;">适用场景</h4><p>${currentLang === 'zh' ? m.desc : m.descEn}</p></div>
          <div><h4 style="color: var(--accent); margin-bottom: 8px;">产出物</h4><p>标准化研究报告、洞察卡片</p></div>
        </div>
      `);
    }

    function showTemplatePreview(id) {
      const t = DATA.templates.find(x => x.id === id);
      showModal(currentLang === 'zh' ? t.title : t.titleEn, `
        <pre style="background: var(--card-bg); padding: 20px; border-radius: 12px; white-space: pre-wrap; font-family: monospace; border: 1px solid var(--card-border); color: var(--text-primary);">
${currentLang === 'zh' ? t.content : t.contentEn}
        </pre>
        <button class="btn-primary" style="margin-top: 20px; width: 100%;" onclick="copyText(\`${currentLang === 'zh' ? t.content : t.contentEn}\`)">${I18N[currentLang].btnCopy}</button>
      `);
    }

    function showTemplate(tag) {
      const t = DATA.templates.find(x => x.tag.toLowerCase() === tag.toLowerCase()) || DATA.templates[0];
      showTemplatePreview(t.id);
    }

    function showModal(title, body) {
      document.getElementById('modalTitle').textContent = title;
      document.getElementById('modalBody').innerHTML = body;
      document.getElementById('modalOverlay').classList.add('active');
    }

    function closeModal() {
      document.getElementById('modalOverlay').classList.remove('active');
    }

    function copyText(text) {
      navigator.clipboard.writeText(text).then(() => {
        const toast = document.getElementById('toast');
        toast.textContent = I18N[currentLang].toastCopy;
        toast.classList.add('active');
        setTimeout(() => toast.classList.remove('active'), 2000);
      });
    }

    document.getElementById('langToggle').onclick = toggleLang;
    document.getElementById('themeToggle').onclick = toggleTheme;
    document.getElementById('searchInput').oninput = renderStatus;

    // Init
    updateUI();
  </script>
</body>
</html>
